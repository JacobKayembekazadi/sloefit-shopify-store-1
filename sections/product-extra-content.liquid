<section class="product-extra-content py-12 px-4">
  <div class="container mx-auto max-w-4xl">
    {% if section.blocks.size > 0 %}
      <div class="space-y-12">
        {% for block in section.blocks %}
          {% case block.type %}
            {% when 'story' %}
              <div class="product-story" {{ block.shopify_attributes }}>
                {% if block.settings.heading != blank %}
                  <h2 class="text-2xl md:text-3xl font-bold mb-4">{{ block.settings.heading }}</h2>
                {% endif %}
                {% if block.settings.content != blank %}
                  <div class="prose prose-lg max-w-none">
                    {{ block.settings.content }}
                  </div>
                {% endif %}
                {% if block.settings.image != blank %}
                  <div class="mt-6 rounded-lg overflow-hidden">
                    {{ block.settings.image | image_url: width: 1200 | image_tag: class: 'w-full h-auto', loading: 'lazy', alt: block.settings.image.alt | default: block.settings.heading }}
                  </div>
                {% endif %}
              </div>

            {% when 'faq' %}
              <div class="product-faq" {{ block.shopify_attributes }}>
                {% if block.settings.heading != blank %}
                  <h2 class="text-2xl md:text-3xl font-bold mb-6">{{ block.settings.heading }}</h2>
                {% endif %}
                <div class="space-y-4">
                  {% if block.settings.question_1 != blank and block.settings.answer_1 != blank %}
                    <div class="border border-border rounded-lg p-4">
                      <h3 class="font-semibold text-lg mb-2">{{ block.settings.question_1 }}</h3>
                      <p class="text-muted-foreground">{{ block.settings.answer_1 }}</p>
                    </div>
                  {% endif %}
                  {% if block.settings.question_2 != blank and block.settings.answer_2 != blank %}
                    <div class="border border-border rounded-lg p-4">
                      <h3 class="font-semibold text-lg mb-2">{{ block.settings.question_2 }}</h3>
                      <p class="text-muted-foreground">{{ block.settings.answer_2 }}</p>
                    </div>
                  {% endif %}
                  {% if block.settings.question_3 != blank and block.settings.answer_3 != blank %}
                    <div class="border border-border rounded-lg p-4">
                      <h3 class="font-semibold text-lg mb-2">{{ block.settings.question_3 }}</h3>
                      <p class="text-muted-foreground">{{ block.settings.answer_3 }}</p>
                    </div>
                  {% endif %}
                  {% if block.settings.question_4 != blank and block.settings.answer_4 != blank %}
                    <div class="border border-border rounded-lg p-4">
                      <h3 class="font-semibold text-lg mb-2">{{ block.settings.question_4 }}</h3>
                      <p class="text-muted-foreground">{{ block.settings.answer_4 }}</p>
                    </div>
                  {% endif %}
                  {% if block.settings.question_5 != blank and block.settings.answer_5 != blank %}
                    <div class="border border-border rounded-lg p-4">
                      <h3 class="font-semibold text-lg mb-2">{{ block.settings.question_5 }}</h3>
                      <p class="text-muted-foreground">{{ block.settings.answer_5 }}</p>
                    </div>
                  {% endif %}
                </div>
              </div>

            {% when 'ingredients' %}
              <div class="product-ingredients" {{ block.shopify_attributes }}>
                {% if block.settings.heading != blank %}
                  <h2 class="text-2xl md:text-3xl font-bold mb-4">{{ block.settings.heading }}</h2>
                {% endif %}
                {% if block.settings.content != blank %}
                  <div class="prose prose-lg max-w-none">
                    {{ block.settings.content }}
                  </div>
                {% endif %}
                {% if block.settings.ingredients_list != blank %}
                  <div class="mt-6">
                    <h3 class="font-semibold text-lg mb-3">Ingredients</h3>
                    <div class="prose max-w-none">
                      {{ block.settings.ingredients_list }}
                    </div>
                  </div>
                {% endif %}
              </div>

            {% when 'usage' %}
              <div class="product-usage" {{ block.shopify_attributes }}>
                {% if block.settings.heading != blank %}
                  <h2 class="text-2xl md:text-3xl font-bold mb-4">{{ block.settings.heading }}</h2>
                {% endif %}
                {% if block.settings.content != blank %}
                  <div class="prose prose-lg max-w-none">
                    {{ block.settings.content }}
                  </div>
                {% endif %}
                {% if block.settings.instructions != blank %}
                  <div class="mt-6 p-6 bg-card border border-border rounded-lg">
                    <h3 class="font-semibold text-lg mb-3">How to Use</h3>
                    <div class="prose max-w-none">
                      {{ block.settings.instructions }}
                    </div>
                  </div>
                {% endif %}
              </div>

            {% when 'custom' %}
              <div class="product-custom-content" {{ block.shopify_attributes }}>
                {% if block.settings.heading != blank %}
                  <h2 class="text-2xl md:text-3xl font-bold mb-4">{{ block.settings.heading }}</h2>
                {% endif %}
                {% if block.settings.content != blank %}
                  <div class="prose prose-lg max-w-none">
                    {{ block.settings.content }}
                  </div>
                {% endif %}
              </div>
          {% endcase %}
        {% endfor %}
      </div>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Product Extra Content",
  "tag": "section",
  "class": "section-product-extra-content",
  "settings": [],
  "blocks": [
    {
      "type": "story",
      "name": "Story",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Our Story"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Content"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        }
      ]
    },
    {
      "type": "faq",
      "name": "FAQ",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Frequently Asked Questions"
        },
        {
          "type": "text",
          "id": "question_1",
          "label": "Question 1"
        },
        {
          "type": "textarea",
          "id": "answer_1",
          "label": "Answer 1"
        },
        {
          "type": "text",
          "id": "question_2",
          "label": "Question 2"
        },
        {
          "type": "textarea",
          "id": "answer_2",
          "label": "Answer 2"
        },
        {
          "type": "text",
          "id": "question_3",
          "label": "Question 3"
        },
        {
          "type": "textarea",
          "id": "answer_3",
          "label": "Answer 3"
        },
        {
          "type": "text",
          "id": "question_4",
          "label": "Question 4"
        },
        {
          "type": "textarea",
          "id": "answer_4",
          "label": "Answer 4"
        },
        {
          "type": "text",
          "id": "question_5",
          "label": "Question 5"
        },
        {
          "type": "textarea",
          "id": "answer_5",
          "label": "Answer 5"
        }
      ]
    },
    {
      "type": "ingredients",
      "name": "Ingredients",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Ingredients"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Content"
        },
        {
          "type": "richtext",
          "id": "ingredients_list",
          "label": "Ingredients List"
        }
      ]
    },
    {
      "type": "usage",
      "name": "Usage Instructions",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "How to Use"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Content"
        },
        {
          "type": "richtext",
          "id": "instructions",
          "label": "Instructions"
        }
      ]
    },
    {
      "type": "custom",
      "name": "Custom Content",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Content"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Product Extra Content",
      "blocks": [
        {
          "type": "faq",
          "settings": {
            "heading": "Frequently Asked Questions",
            "question_1": "What makes this product different?",
            "answer_1": "This product uses clean, transparent ingredients at clinical doses.",
            "question_2": "How should I take this?",
            "answer_2": "Follow the instructions on the label or consult with a healthcare professional.",
            "question_3": "Is this product safe to stack?",
            "answer_3": "Yes, this product is designed to be stack-friendly with other Sloe Fit products."
          }
        }
      ]
    }
  ]
}
{% endschema %}



