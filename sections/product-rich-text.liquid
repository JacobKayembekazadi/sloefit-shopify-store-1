{%- liquid
  unless section.settings.enable_section
    break
  endunless
-%}

<section class="product-rich-text py-12 px-4 {% if section.settings.background_color == 'beige' %}bg-[#F5F5DC]{% elsif section.settings.background_color == 'tan' %}bg-[#D2B48C]{% else %}bg-background{% endif %}">
  <div class="container mx-auto max-w-4xl">
    <div class="{% if section.settings.text_alignment == 'center' %}text-center{% elsif section.settings.text_alignment == 'right' %}text-right{% else %}text-left{% endif %}">
      {% if section.settings.heading != blank %}
        <h2 class="text-2xl md:text-3xl font-bold mb-4">{{ section.settings.heading }}</h2>
      {% endif %}
      
      {% if section.settings.content != blank %}
        <div class="prose prose-lg max-w-none {% if section.settings.text_alignment == 'center' %}mx-auto text-center{% elsif section.settings.text_alignment == 'right' %}ml-auto text-right{% endif %}">
          {{ section.settings.content }}
        </div>
      {% endif %}
      
      {% if section.settings.image != blank %}
        <div class="mt-6 rounded-lg overflow-hidden {% if section.settings.text_alignment == 'center' %}mx-auto{% elsif section.settings.text_alignment == 'right' %}ml-auto{% endif %} max-w-2xl">
          {{ section.settings.image | image_url: width: 1200 | image_tag: class: 'w-full h-auto', loading: 'lazy', alt: section.settings.image.alt | default: section.settings.heading }}
        </div>
      {% endif %}
      
      {% if section.settings.button_text != blank and section.settings.button_link != blank %}
        <div class="mt-6 {% if section.settings.text_alignment == 'center' %}text-center{% elsif section.settings.text_alignment == 'right' %}text-right{% else %}text-left{% endif %}">
          <a
            href="{{ section.settings.button_link }}"
            class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-11 px-8"
          >
            {{ section.settings.button_text }}
            {% if section.settings.show_button_arrow %}
              <svg class="ml-2 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
              </svg>
            {% endif %}
          </a>
        </div>
      {% endif %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Product Rich Text",
  "tag": "section",
  "class": "section-product-rich-text",
  "settings": [
    {
      "type": "header",
      "content": "Section Settings"
    },
    {
      "type": "checkbox",
      "id": "enable_section",
      "label": "Enable section",
      "default": false,
      "info": "Enable this section to display it on the product page"
    },
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading"
    },
    {
      "type": "richtext",
      "id": "content",
      "label": "Content"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "header",
      "content": "Button"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    },
    {
      "type": "checkbox",
      "id": "show_button_arrow",
      "label": "Show button arrow",
      "default": true
    },
    {
      "type": "header",
      "content": "Style"
    },
    {
      "type": "select",
      "id": "background_color",
      "label": "Background color",
      "options": [
        {
          "value": "white",
          "label": "White"
        },
        {
          "value": "beige",
          "label": "Beige"
        },
        {
          "value": "tan",
          "label": "Tan"
        }
      ],
      "default": "white"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left"
    }
  ],
  "presets": [
    {
      "name": "Product Rich Text"
    }
  ]
}
{% endschema %}



